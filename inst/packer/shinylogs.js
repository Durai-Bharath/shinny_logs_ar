/*! For license information please see shinylogs.js.LICENSE.txt */
(() => { var e = { 484: function (e) { e.exports = function () { "use strict"; var e = 6e4, t = 36e5, n = "millisecond", r = "second", o = "minute", i = "hour", a = "day", u = "week", s = "month", c = "quarter", f = "year", l = "date", d = "Invalid Date", h = /^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/, v = /\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g, y = { name: "en", weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_") }, p = function (e, t, n) { var r = String(e); return !r || r.length >= t ? e : "" + Array(t + 1 - r.length).join(n) + e }, m = { s: p, z: function (e) { var t = -e.utcOffset(), n = Math.abs(t), r = Math.floor(n / 60), o = n % 60; return (t <= 0 ? "+" : "-") + p(r, 2, "0") + ":" + p(o, 2, "0") }, m: function e(t, n) { if (t.date() < n.date()) return -e(n, t); var r = 12 * (n.year() - t.year()) + (n.month() - t.month()), o = t.clone().add(r, s), i = n - o < 0, a = t.clone().add(r + (i ? -1 : 1), s); return +(-(r + (n - o) / (i ? o - a : a - o)) || 0) }, a: function (e) { return e < 0 ? Math.ceil(e) || 0 : Math.floor(e) }, p: function (e) { return { M: s, y: f, w: u, d: a, D: l, h: i, m: o, s: r, ms: n, Q: c }[e] || String(e || "").toLowerCase().replace(/s$/, "") }, u: function (e) { return void 0 === e } }, g = "en", b = {}; b[g] = y; var _ = function (e) { return e instanceof D }, w = function (e, t, n) { var r; if (!e) return g; if ("string" == typeof e) b[e] && (r = e), t && (b[e] = t, r = e); else { var o = e.name; b[o] = e, r = o } return !n && r && (g = r), r || !n && g }, S = function (e, t) { if (_(e)) return e.clone(); var n = "object" == typeof t ? t : {}; return n.date = e, n.args = arguments, new D(n) }, I = m; I.l = w, I.i = _, I.w = function (e, t) { return S(e, { locale: t.$L, utc: t.$u, x: t.$x, $offset: t.$offset }) }; var D = function () { function y(e) { this.$L = w(e.locale, null, !0), this.parse(e) } var p = y.prototype; return p.parse = function (e) { this.$d = function (e) { var t = e.date, n = e.utc; if (null === t) return new Date(NaN); if (I.u(t)) return new Date; if (t instanceof Date) return new Date(t); if ("string" == typeof t && !/Z$/i.test(t)) { var r = t.match(h); if (r) { var o = r[2] - 1 || 0, i = (r[7] || "0").substring(0, 3); return n ? new Date(Date.UTC(r[1], o, r[3] || 1, r[4] || 0, r[5] || 0, r[6] || 0, i)) : new Date(r[1], o, r[3] || 1, r[4] || 0, r[5] || 0, r[6] || 0, i) } } return new Date(t) }(e), this.$x = e.x || {}, this.init() }, p.init = function () { var e = this.$d; this.$y = e.getFullYear(), this.$M = e.getMonth(), this.$D = e.getDate(), this.$W = e.getDay(), this.$H = e.getHours(), this.$m = e.getMinutes(), this.$s = e.getSeconds(), this.$ms = e.getMilliseconds() }, p.$utils = function () { return I }, p.isValid = function () { return !(this.$d.toString() === d) }, p.isSame = function (e, t) { var n = S(e); return this.startOf(t) <= n && n <= this.endOf(t) }, p.isAfter = function (e, t) { return S(e) < this.startOf(t) }, p.isBefore = function (e, t) { return this.endOf(t) < S(e) }, p.$g = function (e, t, n) { return I.u(e) ? this[t] : this.set(n, e) }, p.unix = function () { return Math.floor(this.valueOf() / 1e3) }, p.valueOf = function () { return this.$d.getTime() }, p.startOf = function (e, t) { var n = this, c = !!I.u(t) || t, d = I.p(e), h = function (e, t) { var r = I.w(n.$u ? Date.UTC(n.$y, t, e) : new Date(n.$y, t, e), n); return c ? r : r.endOf(a) }, v = function (e, t) { return I.w(n.toDate()[e].apply(n.toDate("s"), (c ? [0, 0, 0, 0] : [23, 59, 59, 999]).slice(t)), n) }, y = this.$W, p = this.$M, m = this.$D, g = "set" + (this.$u ? "UTC" : ""); switch (d) { case f: return c ? h(1, 0) : h(31, 11); case s: return c ? h(1, p) : h(0, p + 1); case u: var b = this.$locale().weekStart || 0, _ = (y < b ? y + 7 : y) - b; return h(c ? m - _ : m + (6 - _), p); case a: case l: return v(g + "Hours", 0); case i: return v(g + "Minutes", 1); case o: return v(g + "Seconds", 2); case r: return v(g + "Milliseconds", 3); default: return this.clone() } }, p.endOf = function (e) { return this.startOf(e, !1) }, p.$set = function (e, t) { var u, c = I.p(e), d = "set" + (this.$u ? "UTC" : ""), h = (u = {}, u[a] = d + "Date", u[l] = d + "Date", u[s] = d + "Month", u[f] = d + "FullYear", u[i] = d + "Hours", u[o] = d + "Minutes", u[r] = d + "Seconds", u[n] = d + "Milliseconds", u)[c], v = c === a ? this.$D + (t - this.$W) : t; if (c === s || c === f) { var y = this.clone().set(l, 1); y.$d[h](v), y.init(), this.$d = y.set(l, Math.min(this.$D, y.daysInMonth())).$d } else h && this.$d[h](v); return this.init(), this }, p.set = function (e, t) { return this.clone().$set(e, t) }, p.get = function (e) { return this[I.p(e)]() }, p.add = function (n, c) { var l, d = this; n = Number(n); var h = I.p(c), v = function (e) { var t = S(d); return I.w(t.date(t.date() + Math.round(e * n)), d) }; if (h === s) return this.set(s, this.$M + n); if (h === f) return this.set(f, this.$y + n); if (h === a) return v(1); if (h === u) return v(7); var y = (l = {}, l[o] = e, l[i] = t, l[r] = 1e3, l)[h] || 1, p = this.$d.getTime() + n * y; return I.w(p, this) }, p.subtract = function (e, t) { return this.add(-1 * e, t) }, p.format = function (e) { var t = this, n = this.$locale(); if (!this.isValid()) return n.invalidDate || d; var r = e || "YYYY-MM-DDTHH:mm:ssZ", o = I.z(this), i = this.$H, a = this.$m, u = this.$M, s = n.weekdays, c = n.months, f = function (e, n, o, i) { return e && (e[n] || e(t, r)) || o[n].substr(0, i) }, l = function (e) { return I.s(i % 12 || 12, e, "0") }, h = n.meridiem || function (e, t, n) { var r = e < 12 ? "AM" : "PM"; return n ? r.toLowerCase() : r }, y = { YY: String(this.$y).slice(-2), YYYY: this.$y, M: u + 1, MM: I.s(u + 1, 2, "0"), MMM: f(n.monthsShort, u, c, 3), MMMM: f(c, u), D: this.$D, DD: I.s(this.$D, 2, "0"), d: String(this.$W), dd: f(n.weekdaysMin, this.$W, s, 2), ddd: f(n.weekdaysShort, this.$W, s, 3), dddd: s[this.$W], H: String(i), HH: I.s(i, 2, "0"), h: l(1), hh: l(2), a: h(i, a, !0), A: h(i, a, !1), m: String(a), mm: I.s(a, 2, "0"), s: String(this.$s), ss: I.s(this.$s, 2, "0"), SSS: I.s(this.$ms, 3, "0"), Z: o }; return r.replace(v, (function (e, t) { return t || y[e] || o.replace(":", "") })) }, p.utcOffset = function () { return 15 * -Math.round(this.$d.getTimezoneOffset() / 15) }, p.diff = function (n, l, d) { var h, v = I.p(l), y = S(n), p = (y.utcOffset() - this.utcOffset()) * e, m = this - y, g = I.m(this, y); return g = (h = {}, h[f] = g / 12, h[s] = g, h[c] = g / 3, h[u] = (m - p) / 6048e5, h[a] = (m - p) / 864e5, h[i] = m / t, h[o] = m / e, h[r] = m / 1e3, h)[v] || m, d ? g : I.a(g) }, p.daysInMonth = function () { return this.endOf(s).$D }, p.$locale = function () { return b[this.$L] }, p.locale = function (e, t) { if (!e) return this.$L; var n = this.clone(), r = w(e, t, !0); return r && (n.$L = r), n }, p.clone = function () { return I.w(this.$d, this) }, p.toDate = function () { return new Date(this.valueOf()) }, p.toJSON = function () { return this.isValid() ? this.toISOString() : null }, p.toISOString = function () { return this.$d.toISOString() }, p.toString = function () { return this.$d.toUTCString() }, y }(), E = D.prototype; return S.prototype = E, [["$ms", n], ["$s", r], ["$m", o], ["$H", i], ["$W", a], ["$M", s], ["$y", f], ["$D", l]].forEach((function (e) { E[e[1]] = function (t) { return this.$g(t, e[0], e[1]) } })), S.extend = function (e, t) { return e.$i || (e(t, D, S), e.$i = !0), S }, S.locale = w, S.isDayjs = _, S.unix = function (e) { return S(1e3 * e) }, S.en = b[g], S.Ls = b, S.p = {}, S }() }, 642: function (e, t, n) { !function (e, t) { "use strict"; function n(e) { return n.result ? n.result : e && "function" == typeof e.getSerializer ? (n.result = e.getSerializer(), n.result) : Promise.reject(new Error("localforage.getSerializer() was not available! localforage v1.4+ is required!")) } function r(e, t) { return t && e.then((function (e) { t(null, e) }), (function (e) { t(e) })), e } function o(e, t) { var n = this.getItem(e).then((function (t) { return { key: e, value: t } })); return r(n, t), n } function i(e) { var t = this; return new Promise((function (n, r) { for (var i = [], a = 0, u = e.length; a < u; a++)i.push(o.call(t, e[a])); Promise.all(i).then((function (e) { for (var t = {}, r = 0, o = e.length; r < o; r++) { var i = e[r]; t[i.key] = i.value } n(t) })).catch(r) })) } function a() { var e = {}; return this.iterate((function (t, n) { e[n] = t })).then((function () { return e })) } t = "default" in t ? t.default : t; var u = "undefined" != typeof IDBKeyRange ? IDBKeyRange : "undefined" != typeof webkitIDBKeyRange ? webkitIDBKeyRange : "undefined" != typeof mozIDBKeyRange ? mozIDBKeyRange : void 0; function s(e) { e = e.slice(); var t = this; function n(e, t) { return e < t ? -1 : e > t ? 1 : 0 } return new Promise((function (r, o) { t.ready().then((function () { var i = t._dbInfo, a = i.db.transaction(i.storeName, "readonly").objectStore(i.storeName), s = e.sort(n), c = u.bound(e[0], e[e.length - 1], !1, !1), f = a.openCursor(c), l = {}, d = 0; f.onsuccess = function () { var e = f.result; if (e) { for (var t = e.key; t > s[d];)if (++d === s.length) return void r(l); if (t === s[d]) { var n = e.value; void 0 === n && (n = null), l[t] = n, e.continue() } else e.continue(s[d]) } else r(l) }, f.onerror = function () { o(f.error) } })).catch(o) })) } function c(e) { var t = this; return new Promise((function (r, o) { t.ready().then((function () { return n(t) })).then((function (n) { var i = t._dbInfo; i.db.transaction((function (t) { for (var a = new Array(e.length), u = 0, s = e.length; u < s; u++)a[u] = "?"; t.executeSql("SELECT * FROM " + i.storeName + " WHERE (key IN (" + a.join(",") + "))", e, (function (e, t) { for (var o = {}, i = t.rows, a = 0, u = i.length; a < u; a++) { var s = i.item(a), c = s.value; c && (c = n.deserialize(c)), o[s.key] = c } r(o) }), (function (e, t) { o(t) })) })) })).catch(o) })) } function f(e, t) { var n, o = this; if (arguments.length && null !== e) { var u = o.driver(); n = u === o.INDEXEDDB ? s.apply(o, arguments) : u === o.WEBSQL ? c.apply(o, arguments) : i.apply(o, arguments) } else n = a.apply(o); return r(n, t), n } function l(e) { var t = Object.getPrototypeOf(e); t && (t.getItems = f, t.getItems.indexedDB = function () { return s.apply(this, arguments) }, t.getItems.websql = function () { return c.apply(this, arguments) }, t.getItems.generic = function () { return i.apply(this, arguments) }) } var d = l(t); e.localforageGetItems = f, e.extendPrototype = l, e.extendPrototypeResult = d, e.getItemsGeneric = i, Object.defineProperty(e, "__esModule", { value: !0 }) }(t, n(483)) }, 483: (e, t, n) => { e.exports = function e(t, n, r) { function o(a, u) { if (!n[a]) { if (!t[a]) { if (i) return i(a, !0); var s = new Error("Cannot find module '" + a + "'"); throw s.code = "MODULE_NOT_FOUND", s } var c = n[a] = { exports: {} }; t[a][0].call(c.exports, (function (e) { return o(t[a][1][e] || e) }), c, c.exports, e, t, n, r) } return n[a].exports } for (var i = void 0, a = 0; a < r.length; a++)o(r[a]); return o }({ 1: [function (e, t, r) { (function (e) { "use strict"; var n, r, o = e.MutationObserver || e.WebKitMutationObserver; if (o) { var i = 0, a = new o(f), u = e.document.createTextNode(""); a.observe(u, { characterData: !0 }), n = function () { u.data = i = ++i % 2 } } else if (e.setImmediate || void 0 === e.MessageChannel) n = "document" in e && "onreadystatechange" in e.document.createElement("script") ? function () { var t = e.document.createElement("script"); t.onreadystatechange = function () { f(), t.onreadystatechange = null, t.parentNode.removeChild(t), t = null }, e.document.documentElement.appendChild(t) } : function () { setTimeout(f, 0) }; else { var s = new e.MessageChannel; s.port1.onmessage = f, n = function () { s.port2.postMessage(0) } } var c = []; function f() { var e, t; r = !0; for (var n = c.length; n;) { for (t = c, c = [], e = -1; ++e < n;)t[e](); n = c.length } r = !1 } t.exports = function (e) { 1 !== c.push(e) || r || n() } }).call(this, void 0 !== n.g ? n.g : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, {}], 2: [function (e, t, n) { "use strict"; var r = e(1); function o() { } var i = {}, a = ["REJECTED"], u = ["FULFILLED"], s = ["PENDING"]; function c(e) { if ("function" != typeof e) throw new TypeError("resolver must be a function"); this.state = s, this.queue = [], this.outcome = void 0, e !== o && h(this, e) } function f(e, t, n) { this.promise = e, "function" == typeof t && (this.onFulfilled = t, this.callFulfilled = this.otherCallFulfilled), "function" == typeof n && (this.onRejected = n, this.callRejected = this.otherCallRejected) } function l(e, t, n) { r((function () { var r; try { r = t(n) } catch (t) { return i.reject(e, t) } r === e ? i.reject(e, new TypeError("Cannot resolve promise with itself")) : i.resolve(e, r) })) } function d(e) { var t = e && e.then; if (e && ("object" == typeof e || "function" == typeof e) && "function" == typeof t) return function () { t.apply(e, arguments) } } function h(e, t) { var n = !1; function r(t) { n || (n = !0, i.reject(e, t)) } function o(t) { n || (n = !0, i.resolve(e, t)) } var a = v((function () { t(o, r) })); "error" === a.status && r(a.value) } function v(e, t) { var n = {}; try { n.value = e(t), n.status = "success" } catch (e) { n.status = "error", n.value = e } return n } t.exports = c, c.prototype.catch = function (e) { return this.then(null, e) }, c.prototype.then = function (e, t) { if ("function" != typeof e && this.state === u || "function" != typeof t && this.state === a) return this; var n = new this.constructor(o); return this.state !== s ? l(n, this.state === u ? e : t, this.outcome) : this.queue.push(new f(n, e, t)), n }, f.prototype.callFulfilled = function (e) { i.resolve(this.promise, e) }, f.prototype.otherCallFulfilled = function (e) { l(this.promise, this.onFulfilled, e) }, f.prototype.callRejected = function (e) { i.reject(this.promise, e) }, f.prototype.otherCallRejected = function (e) { l(this.promise, this.onRejected, e) }, i.resolve = function (e, t) { var n = v(d, t); if ("error" === n.status) return i.reject(e, n.value); var r = n.value; if (r) h(e, r); else { e.state = u, e.outcome = t; for (var o = -1, a = e.queue.length; ++o < a;)e.queue[o].callFulfilled(t) } return e }, i.reject = function (e, t) { e.state = a, e.outcome = t; for (var n = -1, r = e.queue.length; ++n < r;)e.queue[n].callRejected(t); return e }, c.resolve = function (e) { return e instanceof this ? e : i.resolve(new this(o), e) }, c.reject = function (e) { var t = new this(o); return i.reject(t, e) }, c.all = function (e) { var t = this; if ("[object Array]" !== Object.prototype.toString.call(e)) return this.reject(new TypeError("must be an array")); var n = e.length, r = !1; if (!n) return this.resolve([]); for (var a = new Array(n), u = 0, s = -1, c = new this(o); ++s < n;)f(e[s], s); return c; function f(e, o) { t.resolve(e).then((function (e) { a[o] = e, ++u !== n || r || (r = !0, i.resolve(c, a)) }), (function (e) { r || (r = !0, i.reject(c, e)) })) } }, c.race = function (e) { var t = this; if ("[object Array]" !== Object.prototype.toString.call(e)) return this.reject(new TypeError("must be an array")); var n, r = e.length, a = !1; if (!r) return this.resolve([]); for (var u = -1, s = new this(o); ++u < r;)n = e[u], t.resolve(n).then((function (e) { a || (a = !0, i.resolve(s, e)) }), (function (e) { a || (a = !0, i.reject(s, e)) })); return s } }, { 1: 1 }], 3: [function (e, t, r) { (function (t) { "use strict"; "function" != typeof t.Promise && (t.Promise = e(2)) }).call(this, void 0 !== n.g ? n.g : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, { 2: 2 }], 4: [function (e, t, n) { "use strict"; var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }; var o = function () { try { if ("undefined" != typeof indexedDB) return indexedDB; if ("undefined" != typeof webkitIndexedDB) return webkitIndexedDB; if ("undefined" != typeof mozIndexedDB) return mozIndexedDB; if ("undefined" != typeof OIndexedDB) return OIndexedDB; if ("undefined" != typeof msIndexedDB) return msIndexedDB } catch (e) { return } }(); function i(e, t) { e = e || [], t = t || {}; try { return new Blob(e, t) } catch (o) { if ("TypeError" !== o.name) throw o; for (var n = new ("undefined" != typeof BlobBuilder ? BlobBuilder : "undefined" != typeof MSBlobBuilder ? MSBlobBuilder : "undefined" != typeof MozBlobBuilder ? MozBlobBuilder : WebKitBlobBuilder), r = 0; r < e.length; r += 1)n.append(e[r]); return n.getBlob(t.type) } } "undefined" == typeof Promise && e(3); var a = Promise; function u(e, t) { t && e.then((function (e) { t(null, e) }), (function (e) { t(e) })) } function s(e, t, n) { "function" == typeof t && e.then(t), "function" == typeof n && e.catch(n) } function c(e) { return "string" != typeof e && (console.warn(e + " used as a key, but it is not a string."), e = String(e)), e } function f() { if (arguments.length && "function" == typeof arguments[arguments.length - 1]) return arguments[arguments.length - 1] } var l = "local-forage-detect-blob-support", d = void 0, h = {}, v = Object.prototype.toString, y = "readonly", p = "readwrite"; function m(e) { for (var t = e.length, n = new ArrayBuffer(t), r = new Uint8Array(n), o = 0; o < t; o++)r[o] = e.charCodeAt(o); return n } function g(e) { return "boolean" == typeof d ? a.resolve(d) : function (e) { return new a((function (t) { var n = e.transaction(l, p), r = i([""]); n.objectStore(l).put(r, "key"), n.onabort = function (e) { e.preventDefault(), e.stopPropagation(), t(!1) }, n.oncomplete = function () { var e = navigator.userAgent.match(/Chrome\/(\d+)/), n = navigator.userAgent.match(/Edge\//); t(n || !e || parseInt(e[1], 10) >= 43) } })).catch((function () { return !1 })) }(e).then((function (e) { return d = e })) } function b(e) { var t = h[e.name], n = {}; n.promise = new a((function (e, t) { n.resolve = e, n.reject = t })), t.deferredOperations.push(n), t.dbReady ? t.dbReady = t.dbReady.then((function () { return n.promise })) : t.dbReady = n.promise } function _(e) { var t = h[e.name].deferredOperations.pop(); if (t) return t.resolve(), t.promise } function w(e, t) { var n = h[e.name].deferredOperations.pop(); if (n) return n.reject(t), n.promise } function S(e, t) { return new a((function (n, r) { if (h[e.name] = h[e.name] || { forages: [], db: null, dbReady: null, deferredOperations: [] }, e.db) { if (!t) return n(e.db); b(e), e.db.close() } var i = [e.name]; t && i.push(e.version); var a = o.open.apply(o, i); t && (a.onupgradeneeded = function (t) { var n = a.result; try { n.createObjectStore(e.storeName), t.oldVersion <= 1 && n.createObjectStore(l) } catch (n) { if ("ConstraintError" !== n.name) throw n; console.warn('The database "' + e.name + '" has been upgraded from version ' + t.oldVersion + " to version " + t.newVersion + ', but the storage "' + e.storeName + '" already exists.') } }), a.onerror = function (e) { e.preventDefault(), r(a.error) }, a.onsuccess = function () { var t = a.result; t.onversionchange = function (e) { e.target.close() }, n(t), _(e) } })) } function I(e) { return S(e, !1) } function D(e) { return S(e, !0) } function E(e, t) { if (!e.db) return !0; var n = !e.db.objectStoreNames.contains(e.storeName), r = e.version < e.db.version, o = e.version > e.db.version; if (r && (e.version !== t && console.warn('The database "' + e.name + "\" can't be downgraded from version " + e.db.version + " to version " + e.version + "."), e.version = e.db.version), o || n) { if (n) { var i = e.db.version + 1; i > e.version && (e.version = i) } return !0 } return !1 } function N(e) { return i([m(atob(e.data))], { type: e.type }) } function O(e) { return e && e.__local_forage_encoded_blob } function x(e) { var t = this, n = t._initReady().then((function () { var e = h[t._dbInfo.name]; if (e && e.dbReady) return e.dbReady })); return s(n, e, e), n } function $(e, t, n, r) { void 0 === r && (r = 1); try { var o = e.db.transaction(e.storeName, t); n(null, o) } catch (o) { if (r > 0 && (!e.db || "InvalidStateError" === o.name || "NotFoundError" === o.name)) return a.resolve().then((function () { if (!e.db || "NotFoundError" === o.name && !e.db.objectStoreNames.contains(e.storeName) && e.version <= e.db.version) return e.db && (e.version = e.db.version + 1), D(e) })).then((function () { return function (e) { b(e); for (var t = h[e.name], n = t.forages, r = 0; r < n.length; r++) { var o = n[r]; o._dbInfo.db && (o._dbInfo.db.close(), o._dbInfo.db = null) } return e.db = null, I(e).then((function (t) { return e.db = t, E(e) ? D(e) : t })).then((function (r) { e.db = t.db = r; for (var o = 0; o < n.length; o++)n[o]._dbInfo.db = r })).catch((function (t) { throw w(e, t), t })) }(e).then((function () { $(e, t, n, r - 1) })) })).catch(n); n(o) } } var M = { _driver: "asyncStorage", _initStorage: function (e) { var t = this, n = { db: null }; if (e) for (var r in e) n[r] = e[r]; var o = h[n.name]; o || (o = { forages: [], db: null, dbReady: null, deferredOperations: [] }, h[n.name] = o), o.forages.push(t), t._initReady || (t._initReady = t.ready, t.ready = x); var i = []; function u() { return a.resolve() } for (var s = 0; s < o.forages.length; s++) { var c = o.forages[s]; c !== t && i.push(c._initReady().catch(u)) } var f = o.forages.slice(0); return a.all(i).then((function () { return n.db = o.db, I(n) })).then((function (e) { return n.db = e, E(n, t._defaultConfig.version) ? D(n) : e })).then((function (e) { n.db = o.db = e, t._dbInfo = n; for (var r = 0; r < f.length; r++) { var i = f[r]; i !== t && (i._dbInfo.db = n.db, i._dbInfo.version = n.version) } })) }, _support: function () { try { if (!o || !o.open) return !1; var e = "undefined" != typeof openDatabase && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform), t = "function" == typeof fetch && -1 !== fetch.toString().indexOf("[native code"); return (!e || t) && "undefined" != typeof indexedDB && "undefined" != typeof IDBKeyRange } catch (e) { return !1 } }(), iterate: function (e, t) { var n = this, r = new a((function (t, r) { n.ready().then((function () { $(n._dbInfo, y, (function (o, i) { if (o) return r(o); try { var a = i.objectStore(n._dbInfo.storeName).openCursor(), u = 1; a.onsuccess = function () { var n = a.result; if (n) { var r = n.value; O(r) && (r = N(r)); var o = e(r, n.key, u++); void 0 !== o ? t(o) : n.continue() } else t() }, a.onerror = function () { r(a.error) } } catch (e) { r(e) } })) })).catch(r) })); return u(r, t), r }, getItem: function (e, t) { var n = this; e = c(e); var r = new a((function (t, r) { n.ready().then((function () { $(n._dbInfo, y, (function (o, i) { if (o) return r(o); try { var a = i.objectStore(n._dbInfo.storeName).get(e); a.onsuccess = function () { var e = a.result; void 0 === e && (e = null), O(e) && (e = N(e)), t(e) }, a.onerror = function () { r(a.error) } } catch (e) { r(e) } })) })).catch(r) })); return u(r, t), r }, setItem: function (e, t, n) { var r = this; e = c(e); var o = new a((function (n, o) { var i; r.ready().then((function () { return i = r._dbInfo, "[object Blob]" === v.call(t) ? g(i.db).then((function (e) { return e ? t : (n = t, new a((function (e, t) { var r = new FileReader; r.onerror = t, r.onloadend = function (t) { var r = btoa(t.target.result || ""); e({ __local_forage_encoded_blob: !0, data: r, type: n.type }) }, r.readAsBinaryString(n) }))); var n })) : t })).then((function (t) { $(r._dbInfo, p, (function (i, a) { if (i) return o(i); try { var u = a.objectStore(r._dbInfo.storeName); null === t && (t = void 0); var s = u.put(t, e); a.oncomplete = function () { void 0 === t && (t = null), n(t) }, a.onabort = a.onerror = function () { var e = s.error ? s.error : s.transaction.error; o(e) } } catch (e) { o(e) } })) })).catch(o) })); return u(o, n), o }, removeItem: function (e, t) { var n = this; e = c(e); var r = new a((function (t, r) { n.ready().then((function () { $(n._dbInfo, p, (function (o, i) { if (o) return r(o); try { var a = i.objectStore(n._dbInfo.storeName).delete(e); i.oncomplete = function () { t() }, i.onerror = function () { r(a.error) }, i.onabort = function () { var e = a.error ? a.error : a.transaction.error; r(e) } } catch (e) { r(e) } })) })).catch(r) })); return u(r, t), r }, clear: function (e) { var t = this, n = new a((function (e, n) { t.ready().then((function () { $(t._dbInfo, p, (function (r, o) { if (r) return n(r); try { var i = o.objectStore(t._dbInfo.storeName).clear(); o.oncomplete = function () { e() }, o.onabort = o.onerror = function () { var e = i.error ? i.error : i.transaction.error; n(e) } } catch (e) { n(e) } })) })).catch(n) })); return u(n, e), n }, length: function (e) { var t = this, n = new a((function (e, n) { t.ready().then((function () { $(t._dbInfo, y, (function (r, o) { if (r) return n(r); try { var i = o.objectStore(t._dbInfo.storeName).count(); i.onsuccess = function () { e(i.result) }, i.onerror = function () { n(i.error) } } catch (e) { n(e) } })) })).catch(n) })); return u(n, e), n }, key: function (e, t) { var n = this, r = new a((function (t, r) { e < 0 ? t(null) : n.ready().then((function () { $(n._dbInfo, y, (function (o, i) { if (o) return r(o); try { var a = i.objectStore(n._dbInfo.storeName), u = !1, s = a.openKeyCursor(); s.onsuccess = function () { var n = s.result; n ? 0 === e || u ? t(n.key) : (u = !0, n.advance(e)) : t(null) }, s.onerror = function () { r(s.error) } } catch (e) { r(e) } })) })).catch(r) })); return u(r, t), r }, keys: function (e) { var t = this, n = new a((function (e, n) { t.ready().then((function () { $(t._dbInfo, y, (function (r, o) { if (r) return n(r); try { var i = o.objectStore(t._dbInfo.storeName).openKeyCursor(), a = []; i.onsuccess = function () { var t = i.result; t ? (a.push(t.key), t.continue()) : e(a) }, i.onerror = function () { n(i.error) } } catch (e) { n(e) } })) })).catch(n) })); return u(n, e), n }, dropInstance: function (e, t) { t = f.apply(this, arguments); var n = this.config(); (e = "function" != typeof e && e || {}).name || (e.name = e.name || n.name, e.storeName = e.storeName || n.storeName); var r, i = this; if (e.name) { var s = e.name === n.name && i._dbInfo.db ? a.resolve(i._dbInfo.db) : I(e).then((function (t) { var n = h[e.name], r = n.forages; n.db = t; for (var o = 0; o < r.length; o++)r[o]._dbInfo.db = t; return t })); r = e.storeName ? s.then((function (t) { if (t.objectStoreNames.contains(e.storeName)) { var n = t.version + 1; b(e); var r = h[e.name], i = r.forages; t.close(); for (var u = 0; u < i.length; u++) { var s = i[u]; s._dbInfo.db = null, s._dbInfo.version = n } var c = new a((function (t, r) { var i = o.open(e.name, n); i.onerror = function (e) { i.result.close(), r(e) }, i.onupgradeneeded = function () { i.result.deleteObjectStore(e.storeName) }, i.onsuccess = function () { var e = i.result; e.close(), t(e) } })); return c.then((function (e) { r.db = e; for (var t = 0; t < i.length; t++) { var n = i[t]; n._dbInfo.db = e, _(n._dbInfo) } })).catch((function (t) { throw (w(e, t) || a.resolve()).catch((function () { })), t })) } })) : s.then((function (t) { b(e); var n = h[e.name], r = n.forages; t.close(); for (var i = 0; i < r.length; i++)r[i]._dbInfo.db = null; var u = new a((function (t, n) { var r = o.deleteDatabase(e.name); r.onerror = function () { var e = r.result; e && e.close(), n(r.error) }, r.onblocked = function () { console.warn('dropInstance blocked for database "' + e.name + '" until all open connections are closed') }, r.onsuccess = function () { var e = r.result; e && e.close(), t(e) } })); return u.then((function (e) { n.db = e; for (var t = 0; t < r.length; t++)_(r[t]._dbInfo) })).catch((function (t) { throw (w(e, t) || a.resolve()).catch((function () { })), t })) })) } else r = a.reject("Invalid arguments"); return u(r, t), r } }; var j = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", R = /^~~local_forage_type~([^~]+)~/, A = "__lfsc__:", T = A.length, k = "arbf", B = "blob", C = "si08", L = "ui08", P = "uic8", F = "si16", z = "si32", Y = "ur16", H = "ui32", W = "fl32", U = "fl64", q = T + k.length, V = Object.prototype.toString; function K(e) { var t, n, r, o, i, a = .75 * e.length, u = e.length, s = 0; "=" === e[e.length - 1] && (a--, "=" === e[e.length - 2] && a--); var c = new ArrayBuffer(a), f = new Uint8Array(c); for (t = 0; t < u; t += 4)n = j.indexOf(e[t]), r = j.indexOf(e[t + 1]), o = j.indexOf(e[t + 2]), i = j.indexOf(e[t + 3]), f[s++] = n << 2 | r >> 4, f[s++] = (15 & r) << 4 | o >> 2, f[s++] = (3 & o) << 6 | 63 & i; return c } function Z(e) { var t, n = new Uint8Array(e), r = ""; for (t = 0; t < n.length; t += 3)r += j[n[t] >> 2], r += j[(3 & n[t]) << 4 | n[t + 1] >> 4], r += j[(15 & n[t + 1]) << 2 | n[t + 2] >> 6], r += j[63 & n[t + 2]]; return n.length % 3 == 2 ? r = r.substring(0, r.length - 1) + "=" : n.length % 3 == 1 && (r = r.substring(0, r.length - 2) + "=="), r } var J = { serialize: function (e, t) { var n = ""; if (e && (n = V.call(e)), e && ("[object ArrayBuffer]" === n || e.buffer && "[object ArrayBuffer]" === V.call(e.buffer))) { var r, o = A; e instanceof ArrayBuffer ? (r = e, o += k) : (r = e.buffer, "[object Int8Array]" === n ? o += C : "[object Uint8Array]" === n ? o += L : "[object Uint8ClampedArray]" === n ? o += P : "[object Int16Array]" === n ? o += F : "[object Uint16Array]" === n ? o += Y : "[object Int32Array]" === n ? o += z : "[object Uint32Array]" === n ? o += H : "[object Float32Array]" === n ? o += W : "[object Float64Array]" === n ? o += U : t(new Error("Failed to get type for BinaryArray"))), t(o + Z(r)) } else if ("[object Blob]" === n) { var i = new FileReader; i.onload = function () { var n = "~~local_forage_type~" + e.type + "~" + Z(this.result); t("__lfsc__:blob" + n) }, i.readAsArrayBuffer(e) } else try { t(JSON.stringify(e)) } catch (n) { console.error("Couldn't convert value into a JSON string: ", e), t(null, n) } }, deserialize: function (e) { if (e.substring(0, T) !== A) return JSON.parse(e); var t, n = e.substring(q), r = e.substring(T, q); if (r === B && R.test(n)) { var o = n.match(R); t = o[1], n = n.substring(o[0].length) } var a = K(n); switch (r) { case k: return a; case B: return i([a], { type: t }); case C: return new Int8Array(a); case L: return new Uint8Array(a); case P: return new Uint8ClampedArray(a); case F: return new Int16Array(a); case Y: return new Uint16Array(a); case z: return new Int32Array(a); case H: return new Uint32Array(a); case W: return new Float32Array(a); case U: return new Float64Array(a); default: throw new Error("Unkown type: " + r) } }, stringToBuffer: K, bufferToString: Z }; function Q(e, t, n, r) { e.executeSql("CREATE TABLE IF NOT EXISTS " + t.storeName + " (id INTEGER PRIMARY KEY, key unique, value)", [], n, r) } function G(e, t, n, r, o, i) { e.executeSql(n, r, o, (function (e, a) { a.code === a.SYNTAX_ERR ? e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?", [t.storeName], (function (e, u) { u.rows.length ? i(e, a) : Q(e, t, (function () { e.executeSql(n, r, o, i) }), i) }), i) : i(e, a) }), i) } function X(e, t, n, r) { var o = this; e = c(e); var i = new a((function (i, a) { o.ready().then((function () { void 0 === t && (t = null); var u = t, s = o._dbInfo; s.serializer.serialize(t, (function (t, c) { c ? a(c) : s.db.transaction((function (n) { G(n, s, "INSERT OR REPLACE INTO " + s.storeName + " (key, value) VALUES (?, ?)", [e, t], (function () { i(u) }), (function (e, t) { a(t) })) }), (function (t) { if (t.code === t.QUOTA_ERR) { if (r > 0) return void i(X.apply(o, [e, u, n, r - 1])); a(t) } })) })) })).catch(a) })); return u(i, n), i } function ee(e) { return new a((function (t, n) { e.transaction((function (r) { r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'", [], (function (n, r) { for (var o = [], i = 0; i < r.rows.length; i++)o.push(r.rows.item(i).name); t({ db: e, storeNames: o }) }), (function (e, t) { n(t) })) }), (function (e) { n(e) })) })) } var te = { _driver: "webSQLStorage", _initStorage: function (e) { var t = this, n = { db: null }; if (e) for (var r in e) n[r] = "string" != typeof e[r] ? e[r].toString() : e[r]; var o = new a((function (e, r) { try { n.db = openDatabase(n.name, String(n.version), n.description, n.size) } catch (e) { return r(e) } n.db.transaction((function (o) { Q(o, n, (function () { t._dbInfo = n, e() }), (function (e, t) { r(t) })) }), r) })); return n.serializer = J, o }, _support: "function" == typeof openDatabase, iterate: function (e, t) { var n = this, r = new a((function (t, r) { n.ready().then((function () { var o = n._dbInfo; o.db.transaction((function (n) { G(n, o, "SELECT * FROM " + o.storeName, [], (function (n, r) { for (var i = r.rows, a = i.length, u = 0; u < a; u++) { var s = i.item(u), c = s.value; if (c && (c = o.serializer.deserialize(c)), void 0 !== (c = e(c, s.key, u + 1))) return void t(c) } t() }), (function (e, t) { r(t) })) })) })).catch(r) })); return u(r, t), r }, getItem: function (e, t) { var n = this; e = c(e); var r = new a((function (t, r) { n.ready().then((function () { var o = n._dbInfo; o.db.transaction((function (n) { G(n, o, "SELECT * FROM " + o.storeName + " WHERE key = ? LIMIT 1", [e], (function (e, n) { var r = n.rows.length ? n.rows.item(0).value : null; r && (r = o.serializer.deserialize(r)), t(r) }), (function (e, t) { r(t) })) })) })).catch(r) })); return u(r, t), r }, setItem: function (e, t, n) { return X.apply(this, [e, t, n, 1]) }, removeItem: function (e, t) { var n = this; e = c(e); var r = new a((function (t, r) { n.ready().then((function () { var o = n._dbInfo; o.db.transaction((function (n) { G(n, o, "DELETE FROM " + o.storeName + " WHERE key = ?", [e], (function () { t() }), (function (e, t) { r(t) })) })) })).catch(r) })); return u(r, t), r }, clear: function (e) { var t = this, n = new a((function (e, n) { t.ready().then((function () { var r = t._dbInfo; r.db.transaction((function (t) { G(t, r, "DELETE FROM " + r.storeName, [], (function () { e() }), (function (e, t) { n(t) })) })) })).catch(n) })); return u(n, e), n }, length: function (e) { var t = this, n = new a((function (e, n) { t.ready().then((function () { var r = t._dbInfo; r.db.transaction((function (t) { G(t, r, "SELECT COUNT(key) as c FROM " + r.storeName, [], (function (t, n) { var r = n.rows.item(0).c; e(r) }), (function (e, t) { n(t) })) })) })).catch(n) })); return u(n, e), n }, key: function (e, t) { var n = this, r = new a((function (t, r) { n.ready().then((function () { var o = n._dbInfo; o.db.transaction((function (n) { G(n, o, "SELECT key FROM " + o.storeName + " WHERE id = ? LIMIT 1", [e + 1], (function (e, n) { var r = n.rows.length ? n.rows.item(0).key : null; t(r) }), (function (e, t) { r(t) })) })) })).catch(r) })); return u(r, t), r }, keys: function (e) { var t = this, n = new a((function (e, n) { t.ready().then((function () { var r = t._dbInfo; r.db.transaction((function (t) { G(t, r, "SELECT key FROM " + r.storeName, [], (function (t, n) { for (var r = [], o = 0; o < n.rows.length; o++)r.push(n.rows.item(o).key); e(r) }), (function (e, t) { n(t) })) })) })).catch(n) })); return u(n, e), n }, dropInstance: function (e, t) { t = f.apply(this, arguments); var n = this.config(); (e = "function" != typeof e && e || {}).name || (e.name = e.name || n.name, e.storeName = e.storeName || n.storeName); var r, o = this; return u(r = e.name ? new a((function (t) { var r; r = e.name === n.name ? o._dbInfo.db : openDatabase(e.name, "", "", 0), e.storeName ? t({ db: r, storeNames: [e.storeName] }) : t(ee(r)) })).then((function (e) { return new a((function (t, n) { e.db.transaction((function (r) { function o(e) { return new a((function (t, n) { r.executeSql("DROP TABLE IF EXISTS " + e, [], (function () { t() }), (function (e, t) { n(t) })) })) } for (var i = [], u = 0, s = e.storeNames.length; u < s; u++)i.push(o(e.storeNames[u])); a.all(i).then((function () { t() })).catch((function (e) { n(e) })) }), (function (e) { n(e) })) })) })) : a.reject("Invalid arguments"), t), r } }; function ne(e, t) { var n = e.name + "/"; return e.storeName !== t.storeName && (n += e.storeName + "/"), n } function re() { return !function () { var e = "_localforage_support_test"; try { return localStorage.setItem(e, !0), localStorage.removeItem(e), !1 } catch (e) { return !0 } }() || localStorage.length > 0 } var oe = { _driver: "localStorageWrapper", _initStorage: function (e) { var t = {}; if (e) for (var n in e) t[n] = e[n]; return t.keyPrefix = ne(e, this._defaultConfig), re() ? (this._dbInfo = t, t.serializer = J, a.resolve()) : a.reject() }, _support: function () { try { return "undefined" != typeof localStorage && "setItem" in localStorage && !!localStorage.setItem } catch (e) { return !1 } }(), iterate: function (e, t) { var n = this, r = n.ready().then((function () { for (var t = n._dbInfo, r = t.keyPrefix, o = r.length, i = localStorage.length, a = 1, u = 0; u < i; u++) { var s = localStorage.key(u); if (0 === s.indexOf(r)) { var c = localStorage.getItem(s); if (c && (c = t.serializer.deserialize(c)), void 0 !== (c = e(c, s.substring(o), a++))) return c } } })); return u(r, t), r }, getItem: function (e, t) { var n = this; e = c(e); var r = n.ready().then((function () { var t = n._dbInfo, r = localStorage.getItem(t.keyPrefix + e); return r && (r = t.serializer.deserialize(r)), r })); return u(r, t), r }, setItem: function (e, t, n) { var r = this; e = c(e); var o = r.ready().then((function () { void 0 === t && (t = null); var n = t; return new a((function (o, i) { var a = r._dbInfo; a.serializer.serialize(t, (function (t, r) { if (r) i(r); else try { localStorage.setItem(a.keyPrefix + e, t), o(n) } catch (e) { "QuotaExceededError" !== e.name && "NS_ERROR_DOM_QUOTA_REACHED" !== e.name || i(e), i(e) } })) })) })); return u(o, n), o }, removeItem: function (e, t) { var n = this; e = c(e); var r = n.ready().then((function () { var t = n._dbInfo; localStorage.removeItem(t.keyPrefix + e) })); return u(r, t), r }, clear: function (e) { var t = this, n = t.ready().then((function () { for (var e = t._dbInfo.keyPrefix, n = localStorage.length - 1; n >= 0; n--) { var r = localStorage.key(n); 0 === r.indexOf(e) && localStorage.removeItem(r) } })); return u(n, e), n }, length: function (e) { var t = this.keys().then((function (e) { return e.length })); return u(t, e), t }, key: function (e, t) { var n = this, r = n.ready().then((function () { var t, r = n._dbInfo; try { t = localStorage.key(e) } catch (e) { t = null } return t && (t = t.substring(r.keyPrefix.length)), t })); return u(r, t), r }, keys: function (e) { var t = this, n = t.ready().then((function () { for (var e = t._dbInfo, n = localStorage.length, r = [], o = 0; o < n; o++) { var i = localStorage.key(o); 0 === i.indexOf(e.keyPrefix) && r.push(i.substring(e.keyPrefix.length)) } return r })); return u(n, e), n }, dropInstance: function (e, t) { if (t = f.apply(this, arguments), !(e = "function" != typeof e && e || {}).name) { var n = this.config(); e.name = e.name || n.name, e.storeName = e.storeName || n.storeName } var r, o = this; return r = e.name ? new a((function (t) { e.storeName ? t(ne(e, o._defaultConfig)) : t(e.name + "/") })).then((function (e) { for (var t = localStorage.length - 1; t >= 0; t--) { var n = localStorage.key(t); 0 === n.indexOf(e) && localStorage.removeItem(n) } })) : a.reject("Invalid arguments"), u(r, t), r } }, ie = function (e, t) { for (var n = e.length, r = 0; r < n;) { if ((o = e[r]) === (i = t) || "number" == typeof o && "number" == typeof i && isNaN(o) && isNaN(i)) return !0; r++ } var o, i; return !1 }, ae = Array.isArray || function (e) { return "[object Array]" === Object.prototype.toString.call(e) }, ue = {}, se = {}, ce = { INDEXEDDB: M, WEBSQL: te, LOCALSTORAGE: oe }, fe = [ce.INDEXEDDB._driver, ce.WEBSQL._driver, ce.LOCALSTORAGE._driver], le = ["dropInstance"], de = ["clear", "getItem", "iterate", "key", "keys", "length", "removeItem", "setItem"].concat(le), he = { description: "", driver: fe.slice(), name: "localforage", size: 4980736, storeName: "keyvaluepairs", version: 1 }; function ve(e, t) { e[t] = function () { var n = arguments; return e.ready().then((function () { return e[t].apply(e, n) })) } } function ye() { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; if (t) for (var n in t) t.hasOwnProperty(n) && (ae(t[n]) ? arguments[0][n] = t[n].slice() : arguments[0][n] = t[n]) } return arguments[0] } var pe = function () { function e(t) { for (var n in function (e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e), ce) if (ce.hasOwnProperty(n)) { var r = ce[n], o = r._driver; this[n] = o, ue[o] || this.defineDriver(r) } this._defaultConfig = ye({}, he), this._config = ye({}, this._defaultConfig, t), this._driverSet = null, this._initDriver = null, this._ready = !1, this._dbInfo = null, this._wrapLibraryMethodsWithReady(), this.setDriver(this._config.driver).catch((function () { })) } return e.prototype.config = function (e) { if ("object" === (void 0 === e ? "undefined" : r(e))) { if (this._ready) return new Error("Can't call config() after localforage has been used."); for (var t in e) { if ("storeName" === t && (e[t] = e[t].replace(/\W/g, "_")), "version" === t && "number" != typeof e[t]) return new Error("Database version must be a number."); this._config[t] = e[t] } return !("driver" in e) || !e.driver || this.setDriver(this._config.driver) } return "string" == typeof e ? this._config[e] : this._config }, e.prototype.defineDriver = function (e, t, n) { var r = new a((function (t, n) { try { var r = e._driver, o = new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"); if (!e._driver) return void n(o); for (var i = de.concat("_initStorage"), s = 0, c = i.length; s < c; s++) { var f = i[s]; if ((!ie(le, f) || e[f]) && "function" != typeof e[f]) return void n(o) } !function () { for (var t = function (e) { return function () { var t = new Error("Method " + e + " is not implemented by the current driver"), n = a.reject(t); return u(n, arguments[arguments.length - 1]), n } }, n = 0, r = le.length; n < r; n++) { var o = le[n]; e[o] || (e[o] = t(o)) } }(); var l = function (n) { ue[r] && console.info("Redefining LocalForage driver: " + r), ue[r] = e, se[r] = n, t() }; "_support" in e ? e._support && "function" == typeof e._support ? e._support().then(l, n) : l(!!e._support) : l(!0) } catch (e) { n(e) } })); return s(r, t, n), r }, e.prototype.driver = function () { return this._driver || null }, e.prototype.getDriver = function (e, t, n) { var r = ue[e] ? a.resolve(ue[e]) : a.reject(new Error("Driver not found.")); return s(r, t, n), r }, e.prototype.getSerializer = function (e) { var t = a.resolve(J); return s(t, e), t }, e.prototype.ready = function (e) { var t = this, n = t._driverSet.then((function () { return null === t._ready && (t._ready = t._initDriver()), t._ready })); return s(n, e, e), n }, e.prototype.setDriver = function (e, t, n) { var r = this; ae(e) || (e = [e]); var o = this._getSupportedDrivers(e); function i() { r._config.driver = r.driver() } function u(e) { return r._extend(e), i(), r._ready = r._initStorage(r._config), r._ready } var c = null !== this._driverSet ? this._driverSet.catch((function () { return a.resolve() })) : a.resolve(); return this._driverSet = c.then((function () { var e = o[0]; return r._dbInfo = null, r._ready = null, r.getDriver(e).then((function (e) { r._driver = e._driver, i(), r._wrapLibraryMethodsWithReady(), r._initDriver = function (e) { return function () { var t = 0; return function n() { for (; t < e.length;) { var o = e[t]; return t++, r._dbInfo = null, r._ready = null, r.getDriver(o).then(u).catch(n) } i(); var s = new Error("No available storage method found."); return r._driverSet = a.reject(s), r._driverSet }() } }(o) })) })).catch((function () { i(); var e = new Error("No available storage method found."); return r._driverSet = a.reject(e), r._driverSet })), s(this._driverSet, t, n), this._driverSet }, e.prototype.supports = function (e) { return !!se[e] }, e.prototype._extend = function (e) { ye(this, e) }, e.prototype._getSupportedDrivers = function (e) { for (var t = [], n = 0, r = e.length; n < r; n++) { var o = e[n]; this.supports(o) && t.push(o) } return t }, e.prototype._wrapLibraryMethodsWithReady = function () { for (var e = 0, t = de.length; e < t; e++)ve(this, de[e]) }, e.prototype.createInstance = function (t) { return new e(t) }, e }(), me = new pe; t.exports = me }, { 3: 3 }] }, {}, [4])(4) } }, t = {}; function n(r) { var o = t[r]; if (void 0 !== o) return o.exports; var i = t[r] = { exports: {} }; return e[r].call(i.exports, i, i.exports, n), i.exports } n.n = e => { var t = e && e.__esModule ? () => e.default : () => e; return n.d(t, { a: t }), t }, n.d = (e, t) => { for (var r in t) n.o(t, r) && !n.o(e, r) && Object.defineProperty(e, r, { enumerable: !0, get: t[r] }) }, n.g = function () { if ("object" == typeof globalThis) return globalThis; try { return this || new Function("return this")() } catch (e) { if ("object" == typeof window) return window } }(), n.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t), (() => { "use strict"; Shiny; var e = n(484), t = n(483), r = n.n(t); (0, n(642).extendPrototype)(r()), function () { var t = document.querySelectorAll('script[data-for="shinylogs"]'), n = (t = t.length > 0 ? JSON.parse(t[0].innerHTML) : { logsonunload: !1, what: ["session", "input", "output", "error"] }).logsonunload, o = RegExp("^$"); t.hasOwnProperty("exclude_input_regex") && (o = RegExp(t.exclude_input_regex)); var i = r().createInstance({ name: "inputs", storeName: t.sessionid }), a = r().createInstance({ name: "outputs", storeName: t.sessionid }), u = r().createInstance({ name: "errors", storeName: t.sessionid }); function s(e) { e = e || 21; for (var t = ""; 0 < e--;)t += "bjectSymhasOwnPropf0123456789ABCDEFGHIJKLMNQRTUVWXYZvdfgiklquvxz"[64 * Math.random() | 0]; return t } var c = window.navigator.userAgent, f = window.screen.width + "x" + window.screen.height, l = (window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth) + "x" + (window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight), d = window.devicePixelRatio, h = e().format("YYYY-MM-DD HH:mm:ss.SSSZZ"); void 0 !== window.Shiny && window.Shiny.setInputValue && Shiny.setInputValue(".shinylogs_browserData", { user_agent: c, screen_res: f, browser_res: l, pixel_ratio: d, browser_connected: h }, { priority: "event" }), !1 === n && $(document).on("shiny:connected", (function () { Shiny.setInputValue(".shinylogs_browserData", { user_agent: c, screen_res: f, browser_res: l, pixel_ratio: d, browser_connected: h }, { priority: "event" }) })); var v = [".shinylogs_lastInput", ".shinylogs_input", ".shinylogs_error", ".shinylogs_output", ".shinylogs_browserData", ".shinymanager_timeout"]; t.hasOwnProperty("exclude_input_id") && (v = v.concat(t.exclude_input_id)); var y = RegExp("hidden$"); t.what.indexOf("input") > -1 && $(document).on("shiny:inputchanged", (function (t) { if (-1 == v.indexOf(t.name) & !1 === y.test(t.name) & !1 === o.test(t.name) & "shiny.password" != t.inputType) { var r = e(t.timeStamp).format("YYYY-MM-DD HH:mm:ss.SSSZZ"), a = "input" + s(), u = { name: t.name, timestamp: r, value: t.value, type: t.inputType, binding: null !== t.binding ? t.binding.name : "" }; Shiny.setInputValue(".shinylogs_lastInput:parse_lastInput", u), i.setItem(a, u).then((function (e) { !1 === n && i.getItems(null, (function (e, t) { Shiny.setInputValue(".shinylogs_input:parse_logInput", { inputs: t }) })) })) } })), t.what.indexOf("error") > -1 && $(document).on("shiny:error", (function (t) { var r = e(t.timeStamp).format("YYYY-MM-DD HH:mm:ss.SSSZZ"), o = "error" + s(), i = { name: t.name, timestamp: r, error: t.error.message }; u.setItem(o, i).then((function (e) { !1 === n && u.getItems(null, (function (e, t) { Shiny.setInputValue(".shinylogs_error:parse_logInput", { errors: t }) })) })) })), t.what.indexOf("output") > -1 && $(document).on("shiny:value", (function (t) { var r = e(t.timeStamp).format("YYYY-MM-DD HH:mm:ss.SSSZZ"), o = "output" + s(); try { var i = t.binding.binding.name } catch (e) { i = "" } var u = { name: t.name, timestamp: r, binding: i }; a.setItem(o, u).then((function (e) { !1 === n && a.getItems(null, (function (e, t) { Shiny.setInputValue(".shinylogs_output:parse_logInput", { outputs: t }) })) })) })), !0 === n && (window.onbeforeunload = function (e) { return (e = e || window.event) && (e.returnValue = "Are you sure?"), a.getItems(null, (function (e, t) { Shiny.setInputValue(".shinylogs_output:parse_logInput", { outputs: t }) })), u.getItems(null, (function (e, t) { Shiny.setInputValue(".shinylogs_error:parse_logInput", { errors: t }) })), i.getItems(null, (function (e, t) { Shiny.setInputValue(".shinylogs_input:parse_logInput", { inputs: t }) })), Shiny.setInputValue(".shinylogs_browserData", { user_agent: c, screen_res: f, browser_res: l, pixel_ratio: d, browser_connected: h }), "Are you sure?" }) }() })() })();